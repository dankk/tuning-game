(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{214:function(t,e,n){"use strict";n.r(e);var c=n(9),a=n(0),i=n.n(a),r=n(14),o=n.n(r),s=n(12),u=n(187),l=n(235),d=n(232),j=n(231),b=n(18),f=[28,23,19,14,9,4],x=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],O=[2,3,4,5].reduce((function(t,e){var n=x.map((function(t){return{path:"/sound-files/".concat(t).concat(e,".mp3").replace("#","s"),name:"".concat(t).concat(e)}}));return[].concat(Object(b.a)(t),Object(b.a)(n))}),[]);function h(t){var e=O[t].path,n=Object(a.useState)({audio:new Audio(e),noteIndex:t,name:O[t].name}),c=Object(s.a)(n,2),i=c[0],r=c[1];Object(a.useEffect)((function(){return r({audio:new Audio(e),noteIndex:t,name:O[t].name})}),[t]);var o=Object(a.useCallback)((function(t){if(!(t<0||t>=O.length)){i.audio.pause();var e=new Audio(O[t].path);e.play(),r({audio:e,noteIndex:t,name:O[t].name})}}),[]);return[i,o]}var m=n(62).Button;var v=function(t){var e=t.noteIndex,n=Object(a.useState)(!1),i=Object(s.a)(n,2),r=i[0],o=i[1],u=h(e),l=Object(s.a)(u,1)[0];return Object(c.jsx)(m,{variant:"outlined",disabled:r,onClick:function(){return function(){try{l.audio.pause(),l.audio.currentTime=0,l.audio.play(),o(!0)}catch(t){console.log(t)}}()},children:"Hint"})},g=Object(u.a)({stringRoot:{justifyContent:"center",margin:3,width:"80vw"},stringMain:{width:"40%",backgroundColor:"white"},stringSolveMain:{backgroundColor:"gray",width:"40%"},stringChangeButton:{backgroundColor:"white"}});var p=function(t){var e=t.stringIndex,n=t.selectedNoteIndex,i=t.realNoteIndex,r=t.isWrong,o=t.setSelectedNoteIndexes,u=h(n),j=Object(s.a)(u,2),b=j[0],f=j[1],x=Object(a.useState)(!1),m=Object(s.a)(x,2),p=m[0],S=m[1],y=function(t,e){o((function(n){return n.map((function(n,c){return c===t?e:n}))}))},I=function(t){S(!0),setTimeout((function(){return S(!1)}),t)},C=function(){try{b.audio.pause(),b.audio.currentTime=0,b.audio.play()}catch(t){console.log(t)}},w=g();return r?Object(c.jsxs)(l.a,{container:!0,direction:"row",className:w.stringRoot,children:[Object(c.jsx)(l.a,{item:!0,xs:1}),Object(c.jsx)(l.a,{item:!0,xs:2,children:Object(c.jsx)(d.a,{className:w.stringChangeButton,variant:"outlined",fullWidth:!0,disabled:p,onClick:function(){return I(100),y(e,b.noteIndex-1),void f(b.noteIndex-1)},children:"<- \u266d"})}),Object(c.jsx)(l.a,{item:!0,xs:6,className:w.stringSolveMain,children:Object(c.jsx)(d.a,{variant:"outlined",fullWidth:!0,onClick:function(){return C()},children:"? ".concat(O[i].name," ?")})}),Object(c.jsx)(l.a,{item:!0,xs:2,children:Object(c.jsx)(d.a,{className:w.stringChangeButton,variant:"outlined",fullWidth:!0,disabled:p,onClick:function(){return I(100),y(e,b.noteIndex+1),void f(b.noteIndex+1)},children:"\u266f ->"})}),Object(c.jsx)(l.a,{item:!0,xs:1,children:Object(c.jsx)(v,{noteIndex:i})})]}):Object(c.jsxs)(l.a,{container:!0,direction:"row",className:w.stringRoot,children:[Object(c.jsx)(l.a,{item:!0,xs:1}),Object(c.jsx)(l.a,{item:!0,xs:2}),Object(c.jsx)(l.a,{item:!0,xs:6,className:w.stringMain,children:Object(c.jsx)(d.a,{variant:"outlined",fullWidth:!0,onClick:function(){return C()},children:"\u25ba ".concat(b.name)})}),Object(c.jsx)(l.a,{item:!0,xs:2}),Object(c.jsx)(l.a,{item:!0,xs:1})]})},S=n(190),y=n.n(S),I=n(191),C=n.n(I),w=n(233),N=n(216),k=Object(u.a)({resultBox:{display:"flex",width:"50px",height:"50px",alignItems:"center",justifyContent:"center"}});var M=function(t){var e=t.open,n=t.isCorrect,a=k();return Object(c.jsx)(w.a,{open:e,children:Object(c.jsx)(N.a,{className:a.resultBox,children:n?Object(c.jsx)(y.a,{color:"primary"}):Object(c.jsx)(C.a,{color:"error"})})})},B=Object(u.a)((function(t){return{stringGroupRoot:{alignItems:"center"},topInfo:{margin:t.spacing(1),width:"90vw",justifyContent:"space-around",alignItems:"center"},difficulty:{},score:{}}}));var D=function(t){var e=t.difficulty,n=t.setStarted,i=B(),r=f,o=Object(a.useState)([]),u=Object(s.a)(o,2),b=u[0],x=u[1],O=Object(a.useState)([]),h=Object(s.a)(O,2),m=h[0],v=h[1],g=Object(a.useState)(!1),S=Object(s.a)(g,2),y=S[0],I=S[1],C=Object(a.useState)(!1),w=Object(s.a)(C,2),N=w[0],k=w[1],D=Object(a.useState)(0),R=Object(s.a)(D,2),A=R[0],W=R[1],E=function(){var t=function(t,e){for(var n=[],c=Array.from(e);n.length<t;){var a=Math.floor(6*Math.random());n.includes(a)||n.push(a)}return n.forEach((function(t){var n=Math.ceil(3*Math.random(1))*(Math.random(1)>.5?1:-1);c[t]=e[t]+n})),c}(e,r);v(t),x(t),I(!1)};return Object(a.useEffect)((function(){E()}),[]),Object(c.jsxs)(l.a,{container:!0,direction:"column",className:i.stringGroupRoot,children:[Object(c.jsxs)(l.a,{container:!0,direction:"row",className:i.topInfo,children:[Object(c.jsx)(l.a,{item:!0,children:Object(c.jsx)(d.a,{variant:"outlined",size:"small",onClick:function(){n(!1)},children:"<--"})}),Object(c.jsx)(l.a,{item:!0,className:i.score,children:Object(c.jsxs)(j.a,{children:["Score: ",A]})}),Object(c.jsx)(l.a,{item:!0,className:i.difficulty,children:Object(c.jsxs)(j.a,{children:["Difficulty: ",e]})})]}),m.map((function(t,e){return Object(c.jsx)(p,{stringIndex:e,realNoteIndex:r[e],selectedNoteIndex:t,isWrong:b[e]!==r[e],setSelectedNoteIndexes:function(t){return v(t)}},e)})),Object(c.jsx)(d.a,{variant:"outlined",disabled:y,onClick:function(){return I(!0),m.every((function(t,e){return t===r[e]}))&&(k(!0),W((function(t){return t+1}))),void setTimeout((function(){I(!1),E()}),1500)},children:"Submit"}),Object(c.jsx)(M,{open:y,isCorrect:N})]})},R=n(236),A=n(237),W=n(192),E=n.n(W),G=Object(u.a)({startPageRoot:{alignItems:"center"}});var T=function(t){var e=t.setDifficulty,n=t.difficulty,a=t.setStarted,i=G();return Object(c.jsxs)(l.a,{container:!0,direction:"column",className:i.startPageRoot,children:[Object(c.jsxs)(l.a,{item:!0,children:["Difficulty",Object(c.jsx)(R.a,{title:"# of strings to guess",children:Object(c.jsx)(E.a,{fontSize:"small"})})]}),Object(c.jsx)(l.a,{item:!0,children:Object(c.jsx)(A.a,{style:{width:200},value:n,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:6,onChange:function(t,n){e(n)}})}),Object(c.jsx)(l.a,{children:Object(c.jsx)(d.a,{onClick:function(){return a(!0)},variant:"outlined",children:"Start"})})]})};var z=function(t){var e=t.isStarted,n=t.setStarted,i=Object(a.useState)(1),r=Object(s.a)(i,2),o=r[0],u=r[1];return e?Object(c.jsx)(D,{difficulty:o,setStarted:n}):Object(c.jsx)(T,{setDifficulty:u,difficulty:o,setStarted:n})};var F=function(){var t=Object(a.useState)(!1),e=Object(s.a)(t,2),n=e[0],i=e[1];return Object(c.jsx)(z,{isStarted:n,setStarted:function(t){return i(t)}})};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root"))}},[[214,1,2]]]);
//# sourceMappingURL=main.3ae88489.chunk.js.map